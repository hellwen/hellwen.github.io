<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-cn" lang="zh-cn">
<head>
  <link href="//gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.55.2" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Deploy private blog using Github and Hexo &middot; Hellwen</title>

  
  <link type="text/css" rel="stylesheet" href="https://hellwen.github.io/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://hellwen.github.io/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://hellwen.github.io/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://hellwen.github.io/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Hellwen" />

  
</head>

  <body class="theme-base-09 ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://hellwen.github.io/"><h1>Hellwen</h1></a>
      <p class="lead">
       This a private blog 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://hellwen.github.io/">Home</a> </li>
        <li><a href="/tags/"> Tags </a></li>
      </ul>
    </nav>

    <p>&copy; 2019. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1>Deploy private blog using Github and Hexo</h1>
  <time datetime=2017-01-18T00:00:00Z class="post-date">Wed, Jan 18, 2017</time>
  

<h2 id="install-nodejs">Install nodejs</h2>

<h3 id="download-and-install-nodejs">Download and Install nodejs</h3>

<p>先找个地方，用于存放你的node程序</p>

<p>一般会使用固定的目录，如：/data/daen-bin</p>

<pre><code>mkdir -p /data/dean-bin
cd /data/dean-bin
</code></pre>

<p>下载并解压程序文件到dean-bin目录</p>

<pre><code>wget https://nodejs.org/dist/v4.7.2/node-v4.7.2-linux-x64.tar.xz
xz -d node-v4.7.2-linux-x64.tar.xz
tar -xf node-v4.7.2-linux-x64.tar
rm -f node-v4.7.2-linux-x64.tar
</code></pre>

<p>创建node链接，方便后续更新版本不需要更新配置</p>

<pre><code>ln -s node-v4.7.2-linux-x64 node
</code></pre>

<p>修改profile文件，让其可以读取到node和npm两个命令</p>

<pre><code>cat &lt;&lt; EOF &gt;&gt; ~/.bash_profile
export MY_BIN=/data/dean-bin
export NODEROOT=\$MY_BIN/node
export PATH=\$PATH:\$NODEROOT/bin
EOF
</code></pre>

<h2 id="install-hexo">Install hexo</h2>

<p>创建hexo文件夹，并安装hexo，同时进行初始化</p>

<pre><code>mkdir hexo
cd hexo
npm install -g hexo-cli
hexo init
</code></pre>

<p>安装hexo插件</p>

<pre><code>npm install hexo-generator-index --save
npm install hexo-generator-archive --save
npm install hexo-generator-category --save
npm install hexo-generator-tag --save
npm install hexo-server --save
npm install hexo-deployer-git --save
npm install hexo-deployer-heroku --save
npm install hexo-deployer-rsync --save
npm install hexo-deployer-openshift --save
npm install hexo-renderer-marked --save
npm install hexo-renderer-stylus --save
npm install hexo-generator-feed --save
npm install hexo-generator-sitemap --save
</code></pre>

<p>启动hexo服务进行本地测试</p>

<pre><code>$ hexo s
INFO  Start processing
INFO  Hexo is running at http://localhost:4000/. Press Ctrl+C to stop.
</code></pre>

<p>如果出现上面提示，你就可以通过本地的4000端口访问页面，访问成功说明hexo可正常使用</p>

<h2 id="创建github仓库-注册自行解决-并确定已经将自己的私有key放在github上-也就是可以免密码使用git">创建github仓库（注册自行解决，并确定已经将自己的私有key放在github上。也就是可以免密码使用git）</h2>

<p>在github上创建仓库：xxx.github.io.git</p>

<p>其中xxx为你的git用户名，如：git@github.com:dean/dean.github.io.git</p>

<h2 id="修改hexo配置">修改hexo配置</h2>

<p>其中title, subtitle, description, author根据按字面理解进行修改
language设置成zh_CN
url设置成你自己的域名，如果不进行域名执行可不修改
其中deploy参照下列进行修改</p>

<p>最终的配置文件：</p>

<pre><code># Hexo Configuration
## Docs: https://hexo.io/docs/configuration.html
## Source: https://github.com/hexojs/hexo/

# Site
title: Dean's Blog
subtitle: to going...
description:
author: Dean.wu
language: zh_CN
timezone:

# URL
## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'
url: http://yoursite.com
root: /
permalink: :year/:month/:day/:title/
permalink_defaults:

# Directory
source_dir: source
public_dir: public
tag_dir: tags
archive_dir: archives
category_dir: categories
code_dir: downloads/code
i18n_dir: :lang
skip_render:

# Writing
new_post_name: :title.md # File name of new posts
default_layout: post
titlecase: false # Transform title into titlecase
external_link: true # Open external links in new tab
filename_case: 0
render_drafts: false
post_asset_folder: false
relative_link: false
future: true
highlight:
  enable: true
  line_number: true
  auto_detect: false
  tab_replace:

# Category &amp; Tag
default_category: uncategorized
category_map:
tag_map:

# Date / Time format
## Hexo uses Moment.js to parse and display date
## You can customize the date format as defined in
## http://momentjs.com/docs/#/displaying/format/
date_format: YYYY-MM-DD
time_format: HH:mm:ss

# Pagination
## Set per_page to 0 to disable pagination
per_page: 10
pagination_dir: page

# Extensions
## Plugins: https://hexo.io/plugins/
## Themes: https://hexo.io/themes/
theme: landscape

# Deployment
## Docs: https://hexo.io/docs/deployment.html
deploy:
  type: git
  repo: git@github.com:xxx/xxx.github.io.git
  branch: master
  message: update :{{now(&quot;YYYY-MM-DD HH/mm/ss&quot;)}}
</code></pre>

<h2 id="测试hexo部署">测试hexo部署</h2>

<pre><code>hexo g
hexo d
</code></pre>

<p>如果上述命令执行正常，你将可以打开你的博客页面：<a href="https://xxx.github.io/">https://xxx.github.io/</a></p>

<p>Done</p>

</div>

<h2>Comments</h2>
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "devcows" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </main>

    
  </body>
</html>
